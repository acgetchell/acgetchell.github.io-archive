<!DOCTYPE html>
<html lang="en">
<head>
          <title>Adam's Entropy</title>
        <meta charset="utf-8" />



    <meta name="tags" content="f#" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://adamgetchell.org/">Adam's Entropy <strong>One particular random walk through life</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://adamgetchell.org/embedding-gists-in-blogger.html" rel="bookmark"
         title="Permalink to Reflection tools forÂ F#">Reflection tools for&nbsp;F#</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2011-04-19T08:52:00-07:00">
      Tue 19 April 2011
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="http://adamgetchell.org/author/adam-getchell.html">Adam Getchell</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I went to the fabuluous <a href="http://codeconf.com/">CodeConf 2011</a> (view
<a href="http://lanyrd.com/2011/codeconf/slides/">slides</a>,
<a href="https://github.com/blog/835-codeconf-2011-mission-accomplished">recaps</a>
<a href="http://www.peebs.org/2011/04/codeconf-2011-day-one/">here</a>,
<a href="http://thechangelog.com/post/4507882708/codeconf-sunday-summary">here</a>,
and <a href="https://convore.com/codeconf/">here</a>) and the first talk was
&#8220;Tinker Fairy&#8221; <a href="http://twitter.com/#!/drnic">Dr. Nic</a> telling us to
<a href="http://lanyrd.com/2011/codeconf/sdmxb/">build tools</a> to do stuff that
we don&#8217;t want to remember later. Then build tools to build those
tools &#8212; tool&nbsp;tools.  </p>
<p>One of the neat modern takes on Lisp
<a href="http://en.wikipedia.org/wiki/S-expression">s-expressions</a> in modern
virtual machines like the <span class="caps">CLR</span> is
<a href="http://en.wikipedia.org/wiki/Reflection_(computer_programming)">Reflection</a>.
At least, I think that it will be useful in reversing Lisp macros and
expressions into the F#/<span class="caps">OCAML</span>&nbsp;equivalents.  </p>
<p><a href="http://flyingfrogblog.blogspot.com/">Dr. Jon Harrop</a> gives a terse but
informative example in his book <a href="http://fsharpnews.blogspot.com/2010/04/visual-f-2010-for-technical-computing.html">Visual F# 2010 for Technical
Computing</a>.  </p>
<p>First, we want a union type which represents (i.e. abstracts away) the
F# type&nbsp;system:  </p>
<p>Next, we want a (recursive) function (called, straightforwardly enough,
type_of) that reflects (using FSharpType) and translates a given
System.Type object into one of the &#8216;a ty union types defined&nbsp;previously:  </p>
<p>This then allows us to emit the following two liner which can parse
objects such as the List.fold function! (Note: everything after the ;;
is the F# Interactive&nbsp;response.)  </p>
<p>Neat stuff! I&#8217;ve a thousand or two lines of Lisp to look at, so this is
not something I want to have to remember&nbsp;later.</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>