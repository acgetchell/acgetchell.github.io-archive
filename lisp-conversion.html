<!DOCTYPE html>
<html lang="en">
<head>
          <title>Adam's Entropy</title>
        <meta charset="utf-8" />



    <meta name="tags" content="lisp" />
    <meta name="tags" content="tdd" />
    <meta name="tags" content="clojure" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://adamgetchell.org/">Adam's Entropy <strong>One particular random walk through life</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://adamgetchell.org/lisp-conversion.html" rel="bookmark"
         title="Permalink to Lisp Conversion">Lisp&nbsp;Conversion</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2011-12-01T23:32:00-08:00">
      Thu 01 December 2011
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="http://adamgetchell.org/author/adam-getchell.html">Adam Getchell</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>A few months and a lot of Lisp later, I find myself convinced/converted&nbsp;&#8230;  </p>
<p>&#8230; To <a href="http://clojure.org/">Clojure</a>.  </p>
<p>Rajesh, you were&nbsp;right!  </p>
<p>As far as language ~~snobbery~~ coolness, it has a bunch of features I
like such&nbsp;as:  </p>
<ul>
<li>A <a href="http://clojure.org/dynamic"><span class="caps">REPL</span></a> for fast&nbsp;development</li>
<li><a href="http://clojure.org/functional_programming">Functional programming</a>
    with <a href="http://thinkrelevance.com/blog/2008/09/16/pcl-clojure-chapter-6.html">immutable
    values</a> which
    makes it easy to reason about&nbsp;concurrency</li>
<li><a href="http://clojure.org/concurrent_programming">Concurrent programming</a>
    via <a href="http://clojure.org/refs">software transactional&nbsp;memory</a></li>
<li>A
    <a href="http://hornbeck.wordpress.com/2009/07/05/lisp-1-vs-lisp-2/">Lisp-1</a>
    <a href="http://clojure.org/lisp">dialect</a></li>
<li><span class="caps">OOP</span> benefits without <span class="caps">OOP</span> using <a href="http://clojure.org/runtime_polymorphism">runtime&nbsp;polymorphism</a></li>
<li>Lots of modern libraries by being <a href="http://clojure.org/jvm_hosted">hosted on the
    <span class="caps">JVM</span></a></li>
<li>A <a href="http://groups.google.com/group/clojure">vibrant community</a> (my
    <a href="http://groups.google.com/group/fsharp-opensource">F# groups</a>, by
    contrast, have had barely 2 messages in the past&nbsp;month)</li>
</ul>
<p>To get an idea of what I mean, here&#8217;s an anonymous function to find the
odd numbers in a (lazy) <a href="http://clojure.org/sequences">sequence</a> (which
could be a list, vector, or hash&nbsp;map):  </p>
<p>This idea of <a href="http://formpluslogic.blogspot.com/2009/07/clojure-lazy-seq-and-recursion.html">lazy
sequences</a>
is powerful, because you can do things like get the <a href="http://clojure-euler.wikispaces.com/Problem+007">10,001st prime
number</a> without blowing
the&nbsp;stack:  </p>
<p>You can just see the number-crunchy goodness, mixed in with Lispy
functional&nbsp;precision.  </p>
<p>As far as practicality, there is simply too much awesome&nbsp;stuff.  </p>
<ul>
<li>The language itself is available on
    <a href="https://github.com/clojure/clojure">GitHub</a></li>
<li>It has nice <a href="http://clojuredocs.org/">documentation</a> to <a href="http://dev.clojure.org/display/doc/Getting+Started">get you
    started</a>&nbsp;quickly</li>
<li>There are great learning
    resources: <a href="http://www.4clojure.com/">4Clojure</a> <a href="https://github.com/functional-koans/clojure-koans">clojure-koans</a></li>
<li>Nice examples of algorithms such
    as <a href="http://www.algolist.net/Algorithms/Sorting/Quicksort">Quicksort</a>
    using <a href="http://rosettacode.org/wiki/Sorting_algorithms/Quicksort#Clojure">Clojure</a></li>
<li><a href="http://thinkrelevance.com/blog/2008/09/16/pcl-clojure.html">Easy
    translation</a>
    from <a href="http://www.gigamonkeys.com/book/">Practical Common&nbsp;Lisp</a></li>
<li>A <a href="http://www.jetbrains.com/idea/download/index.html">freely
    available</a>
    <a href="http://www.jetbrains.com/idea/">killer <span class="caps">IDE</span></a> <a href="http://plugins.intellij.net/plugin/?id=4050">supporting
    Clojure</a> with <a href="https://github.com/technomancy/leiningen">project
    building</a> and GitHub&nbsp;support</li>
<li><a href="http://webnoir.org/">Simple</a> to
    <a href="https://github.com/weavejester/compojure/wiki">complex</a> web
    application support to
    <a href="http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html"><span class="caps">EC2</span></a>,
    <a href="http://blog.heroku.com/archives/2011/7/5/clojure_on_heroku/">Heroku</a>,
    <a href="http://googlecode.blogspot.com/2010/05/better-performance-in-app-engine-with.html">Google App
    Engine</a>
    and&nbsp;others</li>
</ul>
<p>You can easily do <span class="caps">TDD</span> (test driven development), which is really handy
if, say, you&#8217;ve got a bunch of math functions that you want to be sure
are correct when you port/rewrite&nbsp;code.  </p>
<p>Here&#8217;s a screenshot of <a href="http://www.jetbrains.com/idea/">IntelliJ</a> with a
typical <a href="https://github.com/technomancy/leiningen">Leiningen</a> project&nbsp;open:  </p>
<div class="separator" style="clear: both; text-align: center;">

</div>

<div class="separator" style="clear: both; text-align: center;">

[![](http://4.bp.blogspot.com/-M-dYvAMiipM/TtfPdohU_mI/AAAAAAAA_vE/NeiVEH5OKHs/s640/idea-lein.png)](http://4.bp.blogspot.com/-M-dYvAMiipM/TtfPdohU_mI/AAAAAAAA_vE/NeiVEH5OKHs/s1600/idea-lein.png)

</div>

<p>You can see the typical Leiningen project layout, with /src and /test
folders and subfolders. First, we&#8217;ll write a ~~function~~ test for a
function we want which sums over all values in a given&nbsp;sequence:  </p>
<p>The test is in C:\Projects\<span class="caps">CDT</span>\Newton\test\Newton.test\core.clj,
and the :use [Newton.utilities] tells it to look in the file
C:\Projects\<span class="caps">CDT</span>\Newton\src\Newton\utilities.clj for our function.
Note the use of metadata \^{:utilities true} to mark this as a utilities
test, which we&#8217;ll use later for organization. Our test checks that our
to-be-defined sum test sums correctly over both a list and a&nbsp;vector.  </p>
<p>Now here&#8217;s the contents of
C:\Projects\<span class="caps">CDT</span>\Newton\src\Newton\utilities.clj:  </p>
<p>Finally, Leiningen allows us to choose test selectors so that we can
specify which tests we want to run via&nbsp;project.clj:  </p>
<p>Now by running lein at a command prompt (to save startup time) we can
pick our&nbsp;tests:  </p>
<div class="separator" style="clear: both; text-align: center;">

[![](http://1.bp.blogspot.com/-myffmQYgpC8/TtfWhU5qTQI/AAAAAAAA_vM/uTxhOaHJSO4/s640/lein.png)](http://1.bp.blogspot.com/-myffmQYgpC8/TtfWhU5qTQI/AAAAAAAA_vM/uTxhOaHJSO4/s1600/lein.png)

</div>

<p>Note in the first case, we don&#8217;t expect any tests to run (test! means
fetch dependencies and then run tests) because our sole test has been
marked as a :utility. In the second case, we tell it to run :utility and
it does, telling us that our test passed.&nbsp;Success!  </p>
<p>If our test had failed, clojure&#8217;s test suite would give us good
information. Here, I&#8217;m going to modify the second assertion to fail.
Watch what&nbsp;happens:  </p>
<div class="separator" style="clear: both; text-align: center;">

[![](http://4.bp.blogspot.com/-CqWRxYR47_Y/TtfXz8Po9GI/AAAAAAAA_vU/RvqznnUbXSk/s640/lein-test-fail.png)](http://4.bp.blogspot.com/-CqWRxYR47_Y/TtfXz8Po9GI/AAAAAAAA_vU/RvqznnUbXSk/s1600/lein-test-fail.png)

</div>

<p>How cool is&nbsp;that?  </p>
<p>I&#8217;ve so far read <a href="http://www.manning.com/rathore/">Clojure in Action</a>
and <a href="http://joyofclojure.com/">The Joy of Clojure</a> (both highly
recommended), plus enough daily doses  to actually stop mucking about
and start with the <a href="https://github.com/ucdavis/CDT"><span class="caps">CDT</span> code</a>&nbsp;already.  </p>
<p>So, a modern Lisp with powerful IDEs, modern libraries from the <span class="caps">JVM</span>,
interactive <span class="caps">REPL</span>/<span class="caps">TDD</span>, great documentation, learning resources, and
books &#8212; what&#8217;s not to&nbsp;like?  </p>
</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>